<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>迭代器</title>
</head>
<body>
  <script>
    /**
     * Iterator，迭代器
     * ES6创建了一种新的遍历方式：for...of循环，Iterator接口主要提供for...of消费
     * 原生具备迭代器的Iterator接口，可以用for...of循环：
     *    Array
     *    Map
     *    Set
     *    String
     *    TypedArray
     *    Arguments
     *    NodeList
    */
   const arr = ['唐僧', '孙悟空', '猪八戒', '沙僧']
   for (const iterator of arr) {
    console.log(iterator);
   }

   /**
    * 工作原理：
    *     1.创建一个指针对象，指向当前数据结构的起始位置
    *     2.第一次调用对象的next方法，指针自动指向数据结构的第一个成员
    *     3.接下来不断调用next方法，指针一直自动往后移动，直到指向最后一个成员
    *     4.每调用一次next方法，返回一个包含value和done属性的对象,
    *         value表示当前成员的值
    *         done表示是否结束遍历，是一个布尔值
   */
   // 创建一个对象
   let iterator = arr[Symbol.iterator]()
   // 调用对象的next方法
   console.log(iterator.next());  // {value: '唐僧', done: false}
   // 不断调用next方法
   console.log(iterator.next());  // {value: '孙悟空', done: false}
   console.log(iterator.next());  // {value: '猪八戒', done: false
   console.log(iterator.next());  // {value: '沙僧', done: false}
   console.log(iterator.next());  // {value: undefined, done: true}
  </script>
</body>
</html>